import{j as e,s as w}from"./supabase.BjDmEivz.js";import{r as t}from"./index.DiEladB3.js";import{s as x}from"./seedDogs.wSvxiYGj.js";const j={small:"Pequeno",medium:"M√©dio",large:"Grande"},v={small:"bg-nature-100 text-nature-700 border border-nature-200",medium:"bg-primary-100 text-primary-700 border border-primary-200",large:"bg-warm-100 text-warm-700 border border-warm-200"},N=[{id:"all",label:"Todos"},{id:"small",label:"Pequenos"},{id:"medium",label:"M√©dios"},{id:"large",label:"Grandes"}];function y({dog:s}){const o=v[s.size]??"bg-warm-100 text-warm-700 border border-warm-200",l=j[s.size]??s.size;return e.jsxs("a",{href:`/cao?id=${s.id}`,className:"block bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg border border-warm-200 transition-all duration-200 group cursor-pointer",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-warm-100",children:[s.photo_url?e.jsx("img",{src:s.photo_url,alt:`Foto de ${s.name}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-warm-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-16 h-16","aria-hidden":"true",children:e.jsx("path",{d:"M12 2C10.9 2 10 2.9 10 4s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm8 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4 4c-2.2 0-4 1.5-4 3.3 0 .8.3 1.6.9 2.3L7 15c-.6.6-1 1.5-1 2.4C6 19.4 7.6 21 9.6 21h4.8c2 0 3.6-1.6 3.6-3.6 0-.9-.4-1.8-1-2.4l-.9-1.4c.6-.7.9-1.5.9-2.3C17 9.5 15.2 8 13 8h-1z"})})}),e.jsx("span",{className:`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-semibold ${o}`,children:l})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-warm-900",children:s.name}),s.age&&e.jsx("span",{className:"text-xs text-warm-500 font-medium bg-warm-50 px-2 py-1 rounded-lg border border-warm-200 flex-shrink-0 ml-2",children:s.age})]}),e.jsx("p",{className:"text-warm-600 text-sm leading-relaxed line-clamp-3",children:s.description})]})]})}function L(){const[s,o]=t.useState([]),[l,h]=t.useState("all"),[d,u]=t.useState("all"),[c,p]=t.useState(""),[n,b]=t.useState(!0);t.useEffect(()=>{async function r(){if(!w){o(x.filter(a=>!a.is_adopted)),b(!1);return}try{const{data:a,error:m}=await w.from("dogs").select("*").eq("is_adopted",!1).order("created_at",{ascending:!1});if(m)throw m;o(a??x.filter(g=>!g.is_adopted))}catch{o(x.filter(a=>!a.is_adopted))}finally{b(!1)}}r()},[]);const i=(()=>{let r=s;if(l!=="all"&&(r=r.filter(a=>a.size===l)),d!=="all"&&(r=r.filter(a=>a.sex===d)),c.trim()){const a=c.trim().toLowerCase();r=r.filter(m=>m.name.toLowerCase().includes(a))}return r})();function f(){h("all"),u("all"),p("")}return e.jsx("section",{className:"bg-warm-50 py-16","aria-label":"Lista de c√£es para ado√ß√£o",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-10 space-y-5",children:[e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-warm-400","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}),e.jsx("input",{type:"search",value:c,onChange:r=>p(r.target.value),placeholder:"Procurar por nome...","aria-label":"Procurar c√£o por nome",className:"w-full pl-11 pr-4 py-3 rounded-xl bg-white border border-warm-200 text-warm-900 placeholder-warm-400 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-400 transition-colors"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",role:"tablist","aria-label":"Filtrar por tamanho",children:N.map(({id:r,label:a})=>e.jsx("button",{role:"tab","aria-selected":l===r,onClick:()=>h(r),className:`px-5 py-2.5 rounded-xl text-sm font-semibold transition-all ${l===r?"bg-primary-500 text-white shadow-sm":"bg-white text-warm-700 border border-warm-200 hover:bg-warm-100 hover:border-warm-300"}`,children:a},r))}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",role:"tablist","aria-label":"Filtrar por sexo",children:[{id:"all",label:"Todos"},{id:"female",label:"‚ôÄ F√™mea"},{id:"male",label:"‚ôÇ Macho"}].map(({id:r,label:a})=>e.jsx("button",{role:"tab","aria-selected":d===r,onClick:()=>u(r),className:`px-5 py-2.5 rounded-xl text-sm font-semibold transition-all ${d===r?"bg-warm-700 text-white shadow-sm":"bg-white text-warm-700 border border-warm-200 hover:bg-warm-100 hover:border-warm-300"}`,children:a},r))})]}),!n&&e.jsx("p",{className:"text-warm-500 text-sm font-medium mb-6 text-center",children:i.length===1?"1 c√£o encontrado":`${i.length} c√£es encontrados`}),n&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((r,a)=>e.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-warm-200 animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-warm-200"}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("div",{className:"h-5 bg-warm-200 rounded-lg w-2/3"}),e.jsx("div",{className:"h-4 bg-warm-100 rounded-lg w-full"}),e.jsx("div",{className:"h-4 bg-warm-100 rounded-lg w-4/5"})]})]},a))}),!n&&i.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(r=>e.jsx(y,{dog:r},r.id))}),!n&&i.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üêæ"}),e.jsx("p",{className:"text-warm-700 text-xl font-semibold mb-2",children:"Nenhum c√£o encontrado"}),e.jsx("p",{className:"text-warm-500 text-sm mb-6",children:"Tenta ajustar a pesquisa ou os filtros."}),e.jsx("button",{onClick:f,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold text-sm rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:"Limpar filtros"})]})]})})}export{L as default};
