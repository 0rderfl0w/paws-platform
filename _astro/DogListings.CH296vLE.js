import{j as e,g as j,s as w,l as C}from"./index.lIjAxXKV.js";import{r as o}from"./index.DiEladB3.js";import{s as b}from"./seedDogs.wSvxiYGj.js";const S={small:"bg-nature-100 text-nature-700 border border-nature-200",medium:"bg-primary-100 text-primary-700 border border-primary-200",large:"bg-warm-100 text-warm-700 border border-warm-200"};function D({dog:t,locale:r}){const l=j(r),d=S[t.size]??"bg-warm-100 text-warm-700 border border-warm-200",c={small:l.sizes.small,medium:l.sizes.medium,large:l.sizes.large}[t.size]??t.size,i=r==="pt"?`/cao?id=${t.id}`:`/en/dog?id=${t.id}`;return e.jsxs("a",{href:i,className:"block bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg border border-warm-200 transition-all duration-200 group cursor-pointer",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-warm-100",children:[t.photo_url?e.jsx("img",{src:t.photo_url,alt:`${l.dogProfile.breadcrumbDogs} ${t.name}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-warm-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-16 h-16","aria-hidden":"true",children:e.jsx("path",{d:"M12 2C10.9 2 10 2.9 10 4s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm8 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4 4c-2.2 0-4 1.5-4 3.3 0 .8.3 1.6.9 2.3L7 15c-.6.6-1 1.5-1 2.4C6 19.4 7.6 21 9.6 21h4.8c2 0 3.6-1.6 3.6-3.6 0-.9-.4-1.8-1-2.4l-.9-1.4c.6-.7.9-1.5.9-2.3C17 9.5 15.2 8 13 8h-1z"})})}),e.jsx("span",{className:`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-semibold ${d}`,children:c})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-warm-900",children:t.name}),t.age&&e.jsx("span",{className:"text-xs text-warm-500 font-medium bg-warm-50 px-2 py-1 rounded-lg border border-warm-200 flex-shrink-0 ml-2",children:t.age})]}),e.jsx("p",{className:"text-warm-600 text-sm leading-relaxed line-clamp-3",children:C(t.description??"",r)})]})]})}function A({locale:t="pt"}){const r=j(t),[l,d]=o.useState([]),[n,c]=o.useState("all"),[i,u]=o.useState("all"),[h,f]=o.useState(""),[x,p]=o.useState(!0),v=[{id:"all",label:r.dogListings.filterAll},{id:"small",label:r.dogListings.filterSmall},{id:"medium",label:r.dogListings.filterMedium},{id:"large",label:r.dogListings.filterLarge}],N=[{id:"all",label:r.dogListings.filterAll},{id:"female",label:r.dogListings.filterFemale},{id:"male",label:r.dogListings.filterMale}];o.useEffect(()=>{async function s(){if(!w){d(b.filter(a=>!a.is_adopted)),p(!1);return}try{const{data:a,error:g}=await w.from("dogs").select("*").eq("is_adopted",!1).order("created_at",{ascending:!1});if(g)throw g;d(a??b.filter(z=>!z.is_adopted))}catch{d(b.filter(a=>!a.is_adopted))}finally{p(!1)}}s()},[]);const m=(()=>{let s=l;if(n!=="all"&&(s=s.filter(a=>a.size===n)),i!=="all"&&(s=s.filter(a=>a.sex===i)),h.trim()){const a=h.trim().toLowerCase();s=s.filter(g=>g.name.toLowerCase().includes(a))}return s})();function y(){c("all"),u("all"),f("")}const L=m.length===1?r.dogListings.resultsOne:`${m.length} ${r.dogListings.resultsMany}`;return e.jsx("section",{className:"bg-warm-50 py-16","aria-label":r.dogListings.sectionLabel,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-10 space-y-5",children:[e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-warm-400","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}),e.jsx("input",{type:"search",value:h,onChange:s=>f(s.target.value),placeholder:r.dogListings.searchPlaceholder,"aria-label":r.dogListings.searchLabel,className:"w-full pl-11 pr-4 py-3 rounded-xl bg-white border border-warm-200 text-warm-900 placeholder-warm-400 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-400 transition-colors"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",role:"tablist","aria-label":r.dogListings.filterBySize,children:v.map(({id:s,label:a})=>e.jsx("button",{role:"tab","aria-selected":n===s,onClick:()=>c(s),className:`px-5 py-2.5 rounded-xl text-sm font-semibold transition-all ${n===s?"bg-primary-500 text-white shadow-sm":"bg-white text-warm-700 border border-warm-200 hover:bg-warm-100 hover:border-warm-300"}`,children:a},s))}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",role:"tablist","aria-label":r.dogListings.filterBySex,children:N.map(({id:s,label:a})=>e.jsx("button",{role:"tab","aria-selected":i===s,onClick:()=>u(s),className:`px-5 py-2.5 rounded-xl text-sm font-semibold transition-all ${i===s?"bg-warm-700 text-white shadow-sm":"bg-white text-warm-700 border border-warm-200 hover:bg-warm-100 hover:border-warm-300"}`,children:a},s))})]}),!x&&e.jsx("p",{className:"text-warm-500 text-sm font-medium mb-6 text-center",children:L}),x&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,a)=>e.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-warm-200 animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-warm-200"}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("div",{className:"h-5 bg-warm-200 rounded-lg w-2/3"}),e.jsx("div",{className:"h-4 bg-warm-100 rounded-lg w-full"}),e.jsx("div",{className:"h-4 bg-warm-100 rounded-lg w-4/5"})]})]},a))}),!x&&m.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(s=>e.jsx(D,{dog:s,locale:t},s.id))}),!x&&m.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üêæ"}),e.jsx("p",{className:"text-warm-700 text-xl font-semibold mb-2",children:r.dogListings.emptyTitle}),e.jsx("p",{className:"text-warm-500 text-sm mb-6",children:r.dogListings.emptyDesc}),e.jsx("button",{onClick:y,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold text-sm rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:r.dogListings.clearFilters})]})]})})}export{A as default};
